const LOADING_SCREEN_DIV=$("#loading-screen-div"),POST_IT_CONTAINER=$("#post-it-container"),RESULT_CONTAINER=$("#result-container"),colors=[{base:"#FFED02",corner:"#FEF680",border:"#E0CD01"},{base:"#FEAC16",corner:"#FFBE4C",border:"#D59014"},{base:"#5FC8FF",corner:"#8BD7FF",border:"#41B1DF"}],correct_color="#858687",default_answer_color="#262B32",API_URL="https://the-trivia-api.com/questions?limit=4",loading_screen_strings=["Removing old post-its.","Scraping adhesive.","Buying office supplies.","Cleaning white board.","Placing new post-its.","Writing questions.","Spilling coffee on work area...","Starting over."],questions=[null,null];let interval_id=null,getSetAnswerCount=null;const handleInitialSetup=async()=>{startLoadingScreen(),getSetAnswerCount=handleAnswerCount(),post_its=POST_IT_CONTAINER.children();for(let e=4;e--;)post_its.eq(e).children(".front").eq(0).on("click",e=>e.currentTarget.parentNode.classList.add("selected"));try{questions[1]=await getQuestions(),setUpPostIts(),stopLoadingScreen()}catch(e){console.log(e)}},handleAnswerCount=(e=0,t=0)=>r=>r?[++e,t]:[e,++t],startLoadingScreen=()=>{let e=setLoadingScreenText();e(),interval_id=setInterval(e,800)},stopLoadingScreen=()=>{clearInterval(interval_id),LOADING_SCREEN_DIV.addClass("remove")},setLoadingScreenText=(e=0)=>()=>{let t=loading_screen_strings[e++];e<loading_screen_strings.length||(e=0),LOADING_SCREEN_DIV.text(t)},getQuestions=()=>fetch(API_URL).then(e=>e.json()),handleAnswerClick=e=>t=>{let r,[n,s]=getSetAnswerCount(e);if(RESULT_CONTAINER.children().eq(0).text("correct: "+n),RESULT_CONTAINER.children().eq(1).text("incorrect: "+s),e)(r=t.currentTarget).classList.add("correct");else{let e=t.currentTarget.parentNode.children;for(let t=4;t--;)e[t].is_correct&&(delete e[t].correct_answer,(r=e[t]).classList.add("correct"))}setTimeout(()=>{r.classList.remove("correct"),setUpPostIts()},2e3)},setUpPostIts=()=>{questions[0]=questions[1],getQuestions().then(e=>questions[1]=e);let e=questions[0],t=POST_IT_CONTAINER.children();for(let r=4;r--;){let n=Math.round(3*Math.random()),s=e[r],o=t.eq(r);o.removeClass("selected");let i=colors[Math.round(Math.random()*(colors.length-1))];o.css("background",`linear-gradient(135deg, ${i.base} 0%, ${i.base} 80%, ${i.corner} 81%, ${i.corner} 100%)`).css("border","5px solid "+i.border);let c=o.children(".front").eq(0),l=o.children(".back").eq(0);c.text(s.category),l.children(".question").text(s.question);let a=l.children(".answer-container").eq(0).children().off();for(let e=0,t=4;e<t;e++)a.eq(e).on("click",handleAnswerClick(e==n)).text(e==n?s.correctAnswer:e>n?s.incorrectAnswers[e-1]:s.incorrectAnswers[e])[0].is_correct=e==n}};handleInitialSetup();